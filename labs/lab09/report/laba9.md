**Лабораторная работа №9**

**Текстовой редактор emacs**

Рябцев И.В.; НКАбд-03-22

**1	Цель работы**

Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором Emacs.

**2	Задание**

Последовательность выполнения работы 1. Ознакомиться с теоретическим материалом. 2. Ознакомиться с редактором emacs. 3. Выполнить упражнения. 4. Ответить на контрольные вопросы.

Основные команды emacs 1. Открыть emacs. 2. Создать файл lab07.sh с помощью комбинации Ctrl-x Ctrl-f (C-x C-f). 3. Наберите текст, который дан. 4. Сохранить файл с помощью комбинации Ctrl-x Ctrl-s (C-x C-s). 5. Проделать с текстом стандартные процедуры редактирования, каждое действие должно осуществляться комбинацией клавиш. 5.1. Вырезать одной командой целую строку (С-k). 5.2. Вставить эту строку в конец файла (C-y). 5.3. Выделить область текста (C-space). 5.4. Скопировать область в буфер обмена (M-w). 5.5. Вставить область в конец файла. 5.6. Вновь выделить эту область и на этот раз вырезать её (C-w). 5.7. Отмените последнее действие (C-/). 6. Научитесь использовать команды по перемещению курсора. 6.1. Переместите курсор в начало строки (C-a). 6.2. Переместите курсор в конец строки (C-e). 6.3. Переместите курсор в начало буфера (M-<). 6.4. Переместите курсор в конец буфера (M->). 7. Управление буферами. 7.1. Вывести список активных буферов на экран (C-x C-b). 7.2. Переместитесь во вновь открытое окно (C-x) o со списком открытых буферов и переключитесь на другой буфер. 7.3. Закройте это окно (C-x 0). 7.4. Теперь вновь переключайтесь между буферами, но уже без вывода их списка на экран (C-x b). 8. Управление окнами. 8.1. Поделите фрейм на 4 части: разделите фрейм на два окна по вертикали (C-x 3), а затем каждое из этих окон на две части по горизонтали (C-x 2). 8.2. В каждом из четырёх созданных окон откройте новый буфер (файл) и введите несколько строк текста. 9. Режим поиска 9.1. Переключитесь в режим поиска (C-s) и найдите несколько слов, присутствующих в тексте. 9.2. Переключайтесь между результатами поиска, нажимая C-s. 9.3. Выйдите из режима поиска, нажав C-g. 9.4. Перейдите в режим поиска и замены (M-%), введите текст, который следует найти и заменить, нажмите Enter , затем введите текст для замены. После того как будут подсвечены результаты поиска, нажмите ! для подтверждения замены. 9.5. Испробуйте другой режим поиска, нажав M-s o. Объясните, чем он отличается от обычного режима?

**3	Теоретическое введение**

Emacs — один из наиболее мощных и широко распространённых редакторов, используемых в мире UNIX. По популярности он соперничает с редактором vi и его клонами. В зависимости от ситуации, Emacs может быть:

- текстовым редактором;
- программой для чтения почты и новостей Usenet;
- интегрированной средой разработки (IDE);
- операционной системой;

Всё это разнообразие достигается благодаря архитектуре Emacs, которая позволяет расширять возможности редактора при помощи языка Emacs Lisp. На языке C написаны лишь самые базовые и низкоуровневые части Emacs, включая полнофункциональный интерпретатор языка Lisp. Таким образом, Emacs имеет встроенный язык программирования, который может использоваться для настройки, расширения и изменения поведения редактора. В действительности, большая часть того редактора, с которым пользователи Emacs работают в наши дни, написана на языке Lisp.

Первая версия редактора Emacs была написана в 70-х годах 20-го столетия Richard Stallman (Ричардом Столманом) как набор макросов для редактора TECO . В дальнейшем, уже будучи основателем Фонда Свободного программного обеспечения Free Software Foundation и проекта GNU, Stallman разработал GNU Emacs в развитие оригинального Emacs и до сих пор сопровождает эту программу. Emacs является одним из старейших редакторов. Он использовался тысячами программистов на протяжении последних 20 с лишним лет, для него создано много дополнительных пакетов расширений. Эти дополнения позволяют делать с помощью Emacs такие вещи, которые Stallman , вероятно, даже не считал возможными в начале своей работы над редактором. [1]

**4	Выполнение лабораторной работы**

- Открыть emacs. (рис. 1)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.001.png)

*Рис. 1: Редактор Emacs*

- Создать файл lab07.sh с помощью комбинации Ctrl-x Ctrl-f (C-x C-f). (рис. 2)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.002.png)

*Рис. 2: Редактор Emacs*

- Наберите текст, который дан.
- Сохранить файл с помощью комбинации Ctrl-x Ctrl-s (C-x C-s). (рис. 3)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.003.png)

*Рис. 3: Текст в редакторе*

- Проделать с текстом стандартные процедуры редактирования, каждое действие должно осуществляться комбинацией клавиш. 5.1. Вырезать одной командой целую строку (С-k). (рис. 4)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.004.png)

*Рис. 4: Вырезание строчку*

5\.2. Вставить эту строку в конец файла (C-y). (рис. 5)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.005.png)

*Рис. 5: Вставка строчки в конец файла*

5\.3. Выделить область текста (C-space). 5.4. Скопировать область в буфер обмена (M-w). 5.5. Вставить область в конец файла. (рис. 6)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.006.png)

*Рис. 6: Вставка скопированной области в конец файла*

5\.6. Вновь выделить эту область и на этот раз вырезать её (C-w). (рис. 7)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.007.png)

*Рис. 7: Вырезание области текста*

5\.7. Отмените последнее действие (C-/). (рис. 8)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.008.png)

*Рис. 8: Отмена последнего действия*

- Научитесь использовать команды по перемещению курсора. 6.1. Переместите курсор в начало строки (C-a). (рис. 9)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.009.png)

*Рис. 9: Курсор в начале строки*

6\.2. Переместите курсор в конец строки (C-e). (рис. 10)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.010.png)

*Рис. 10: Курсор в конце строки*

6\.3. Переместите курсор в начало буфера (M-<). 6.4. Переместите курсор в конец буфера (M->). 7. Управление буферами. 7.1. Вывести список активных буферов на экран (C-x C-b). (рис. 11)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.011.png)

*Рис. 11: Список активных буферов*

7\.2. Переместитесь во вновь открытое окно (C-x) o со списком открытых буферов и переключитесь на другой буфер. (рис. 12)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.012.png)

*Рис. 12: Другой буфер*

7\.3. Закройте это окно (C-x 0). 7.4. Теперь вновь переключайтесь между буферами, но уже без вывода их списка на экран (C-x b). 8. Управление окнами. 8.1. Поделите фрейм на 4 части: разделите фрейм на два окна по вертикали (C-x 3), а затем каждое из этих окон на две части по горизонтали (C-x 2). (рис. 13)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.013.png)

*Рис. 13: 4 окна*

8\.2. В каждом из четырёх созданных окон откройте новый буфер (файл) и введите несколько строк текста. (рис. 14)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.014.png)

*Рис. 14: Новые файлы в каждом окне*

- Режим поиска 9.1. Переключитесь в режим поиска (C-s) и найдите несколько слов, присутствующих в тексте. (рис. 15)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.015.png)

*Рис. 15: Режим поиска*

9\.2. Переключайтесь между результатами поиска, нажимая C-s. (рис. 16)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.016.png)

*Рис. 16: Режим поиска*

9\.3. Выйдите из режима поиска, нажав C-g. 9.4. Перейдите в режим поиска и замены (M-%), введите текст, который следует найти и заменить, нажмите Enter , затем введите текст для замены. После того как будут подсвечены результаты поиска, нажмите ! для подтверждения замены. (рис. 17)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.015.png)

*Рис. 17: Режим поиска и замены*

9\.5. Испробуйте другой режим поиска, нажав M-s o. Объясните, чем он отличается от обычного режима? (рис. 18)

![](Aspose.Words.bf93229c-8c33-49ef-b38a-785b748f9851.016.png)

*Рис. 18: Другой режим поиска*

Отличие от обычного режима в том, что тут появляется отдельное окно с текстом из файла с выделенными словами, которые нужно было найти.

**5	Выводы**

В процессе выполнения лабораторной работы я получил практические навыки работы в редакторе Emacs.

**6	Контрольные вопросы**

- Кратко охарактеризуйте редактор emacs.

Emacs — один из наиболее мощных и широко распространённых редакторов, используемых в мире UNIX. Написан на языке высокого уровня Lisp.

- Какие особенности данного редактора могут сделать его сложным для освоения новичком?

Большое разнообразие сложных комбинаций клавиш, которые необходимы для редактирования файла и в принципе для работа с Emacs.

- Своими словами опишите, что такое буфер и окно в терминологии emacs’а.

Буфер - это объект в виде текста. Окно - это прямоугольная область, в которой отображен буфер.

- Можно ли открыть больше 10 буферов в одном окне?

Да, можно.

- Какие буферы создаются по умолчанию при запуске emacs?

Emacs использует буферы с именами, начинающимися с пробела, для внутренних целей. Отчасти он обращается с буферами с такими именами особенным образом – например, по умолчанию в них не записывается информация для отмены изменений.

- Какие клавиши вы нажмёте, чтобы ввести следующую комбинацию C-c | и C-c C-|?

Ctrl + c, а потом | и Ctrl + c Ctrl + |

- Как поделить текущее окно на две части?

С помощью команды Ctrl + x 3 (по вертикали) и Ctrl + x 2 (по горизонтали).

- В каком файле хранятся настройки редактора emacs?

Настройки emacs хранятся в файле . emacs, который хранится в домашней дирректории пользователя. Кроме этого файла есть ещё папка . emacs.

- Какую функцию выполняет клавиша и можно ли её переназначить?

Выполняет фугкцию стереть, думаю можно переназначить.

- Какой редактор вам показался удобнее в работе vi или emacs? Поясните почему.

Для меня удобнее был редактор Emacs, так как у него есть командая оболочка. А vi открывается в терминале, и выглядит своеобразно.

**Список литературы**

1\. 	Emacs для начинающих [Электронный ресурс]. URL: <https://www.opennet.ru/docs/RUS/emacs_begin/>.
