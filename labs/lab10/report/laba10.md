**Лабораторная работа №10**

**Программирование в командном процессоре ОС UNIX. Командные файлы**

Рябцев И.В.; НКАбд-03-22

**1	Цель работы**

Изучить основы программирования в оболочке ОС UNIX/Linux. Научиться писать небольшие командные файлы.

**2	Задание**

- Написать скрипт, который при запуске будет делать резервную копию самого себя (то есть файла, в котором содержится его исходный код) в другую директорию backup в вашем домашнем каталоге. При этом файл должен архивироваться одним из архиваторов на выбор zip, bzip2 или tar. Способ использования команд архивации необходимо узнать, изучив справку.
- Написать пример командного файла, обрабатывающего любое произвольное число аргументов командной строки, в том числе превышающее десять. Например, скрипт может последовательно распечатывать значения всех переданных аргументов.
- Написать командный файл — аналог команды ls (без использования самой этой команды и команды dir). Требуется, чтобы он выдавал информацию о нужном каталоге и выводил информацию о возможностях доступа к файлам этого каталога.
- Написать командный файл, который получает в качестве аргумента командной строки формат файла (.txt, .doc, .jpg, .pdf и т.д.) и вычисляет количество таких файлов в указанной директории. Путь к директории также передаётся в виде аргумента командной строки.

**3	Теоретическое введение**

Командный процессор (командная оболочка, интерпретатор команд shell) — это программа, позволяющая пользователю взаимодействовать с операционной системой компьютера. В операционных системах типа UNIX/Linux наиболее часто используются следующие реализации командных оболочек: - оболочка Борна (Bourne shell или sh) — стандартная командная оболочка UNIX/Linux, содержащая базовый, но при этом полный набор функций;

- С-оболочка (или csh) — надстройка на оболочкой Борна, использующая С-подобный синтаксис команд с возможностью сохранения истории выполнения команд;
- оболочка Корна (или ksh) — напоминает оболочку С, но операторы управления программой совместимы с операторами оболочки Борна;
- BASH — сокращение от Bourne Again Shell (опять оболочка Борна), в основе своей совмещает свойства оболочек С и Корна (разработка компании Free Software Foundation).

POSIX (Portable Operating System Interface for Computer Environments) — набор стандартов описания интерфейсов взаимодействия операционной системы и прикладных программ. Стандарты POSIX разработаны комитетом IEEE (Institute of Electrical and Electronics Engineers) для обеспечения совместимости различных UNIX/Linux-подобных операционных систем и переносимости прикладных программ на уровне исходного кода. POSIX-совместимые оболочки разработаны на базе оболочки Корна. Рассмотрим основные элементы программирования в оболочке bash. В других оболочках большинство команд будет совпадать с описанными ниже. [1]

**4	Выполнение лабораторной работы**

Описываются проведённые действия, в качестве иллюстрации даётся ссылка на иллюстрацию (рис. 1)

- Написать скрипт, который при запуске будет делать резервную копию самого себя (то есть файла, в котором содержится его исходный код) в другую директорию backup в вашем домашнем каталоге. При этом файл должен архивироваться одним из архиваторов на выбор zip, bzip2 или tar. Способ использования команд архивации необходимо узнать, изучив справку. рис. (1-3)

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.001.png)

*Рис. 1: Текст первой программы*

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.002.png)

*Рис. 2: Проверка работы программы*

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.003.png)

*Рис. 3: Создание файла для второй программы, проверка содержимого домашнего каталога*

- Написать пример командного файла, обрабатывающего любое произвольное число аргументов командной строки, в том числе превышающее десять. Например, скрипт может последовательно распечатывать значения всех переданных аргументов. (4, 5)

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.004.png)

*Рис. 4: Текст второй программы*

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.005.png)

*Рис. 5: Проверка работы второй программы*

- Написать командный файл — аналог команды ls (без использования самой этой команды и команды dir). Требуется, чтобы он выдавал информацию о нужном каталоге и выводил информацию о возможностях доступа к файлам этого каталога. (6-8)

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.006.png)

*Рис. 6: Создание файла для третьей программы*

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.007.png)

*Рис. 7: Текст третьей программы*

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.008.png)

*Рис. 8: Проверка работы третьей программы*

- Написать командный файл, который получает в качестве аргумента командной строки формат файла (.txt, .doc, .jpg, .pdf и т.д.) и вычисляет количество таких файлов в указанной директории. Путь к директории также передаётся в виде аргумента командной строки. (9, 10)

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.009.png)

*Рис. 9: Текст четвертой программы*

![](Aspose.Words.e76e1743-788c-4453-9c7c-8ae71e6cd939.010.png)

*Рис. 10: Проверка работы четвертой программы*

**5	Выводы**

В процессе выполнения лабораторной работы я изучил основы программирования в оболочке ОС UNIX/Linux. Научился писать небольшие командные файлы.

**Список литературы**

1\. 	Лабораторная работа № 10. Программирование в командном процессоре ОС UNIX. Командные файлы [Электронный ресурс]. URL: <https://esystem.rudn.ru/>.
